" Code
Plug 'marijnh/tern_for_vim', { 'do' : 'npm install' }

" tern_for_vim  {
    au FileType javascript nnoremap <F2> :TernDoc<CR>
    au FileType javascript nnoremap <F3> :TernDef<CR>
" }

if has('nvim')
  Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }
  Plug 'neomake/neomake'
  Plug 'zchee/deoplete-go', { 'do': 'make'}

  " deoplete {
      let g:deoplete#enable_at_startup = 1
      let g:deoplete#auto_complete_start_length = 1
      inoremap <expr><TAB> pumvisible() ? "\<C-n>" : "\<TAB>"
      inoremap <expr><S-TAB> pumvisible() ? "\<C-p>" : "\<S-TAB>"
  " }

  " neomake {
    let g:neomake_javascript_enabled_makers = ['eslint']

    autocmd! BufWritePost * Neomake
    autocmd! QuitPre * let g:neomake_verbose = 0
  " }

  " tern_for_vim {
      " Tern commands are only loaded when a JS file is detected so using <Plug>
      " bindings isn't possible
      au FileType javascript nnoremap <M-R> :TernRename<CR>
  " }

  " vim-easymotion {
      map <M-e> <Plug>(easymotion-prefix)
  " }

  " vim-go {
      " Rename with Alt+Shift+R
      au FileType go nmap <M-R> <Plug>(go-rename)
  " }

  " ultisnips {
      " Change ultisnip trigger to Ctrl-Space
      let g:UltiSnipsExpandTrigger = "<C-@>"
  " }
endif

if !has('nvim')
  Plug 'Valloric/YouCompleteMe', { 'do': './install.py --gocode-completer --clang-completer' }

  " vim-easymotion {
      map e <Plug>(easymotion-prefix)
  " }

  " vim-go {
      " Rename with Alt+Shift+R
      au FileType go nnoremap R <Plug>(go-rename)
  " }

  " tern_for_vim {
      " Tern commands are only loaded when a JS file is detected so using <Plug>
      " bindings isn't possible
      au FileType javascript nnoremap R :TernRename<CR>
  " }

  " ultisnips {
      " Change ultisnip trigger to Ctrl-Space
      let g:UltiSnipsExpandTrigger = "<C-Space>"
  " }
endif
