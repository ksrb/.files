<?xml version="1.0"?>
<root>
  <appdef>
    <appname>HIPCHAT</appname>
    <equal>com.hipchat.HipChat</equal>
  </appdef>
  <appdef>
    <appname>TERMLIKE</appname>

    <!-- TERMINAL -->
    <equal>com.apple.Terminal</equal>
    <equal>iTerm</equal>
    <equal>net.sourceforge.iTerm</equal>
    <equal>com.googlecode.iterm2</equal>
    <equal>co.zeit.hyperterm</equal>
    <equal>co.zeit.hyper</equal>

    <!-- EMACS -->
    <equal>org.gnu.Emacs</equal>
    <equal>org.gnu.AquamacsEmacs</equal>
    <equal>org.gnu.Aquamacs</equal>
    <equal>org.pqrs.unknownapp.conkeror</equal>

    <!-- IntelliJ -->
    <equal>com.jetbrains.intellij</equal>

    <!-- Visual Studio Code -->
    <equal>com.microsoft.VSCode</equal>

    <!-- VIRTUALMACHINE -->
    <equal>com.vmware.fusion</equal>
    <equal>com.vmware.horizon</equal>
    <equal>com.vmware.view</equal>
    <equal>com.parallels.desktop</equal>
    <equal>com.parallels.vm</equal>
    <equal>com.parallels.desktop.console</equal>
    <equal>org.virtualbox.app.VirtualBoxVM</equal>
    <prefix>com.vmware.proxyApp.</prefix>
    <prefix>com.parallels.winapp.</prefix>
  </appdef>
  <item>
    <name>Custom</name>
    <item>
      <name>Media Keys to Fn Keys</name>
      <identifier>custom.mediaKeys2FnKeys</identifier>
      <autogen>__KeyToKey__ ConsumerKeyCode::BRIGHTNESS_DOWN, KeyCode::F1</autogen>
      <autogen>__KeyToKey__ ConsumerKeyCode::BRIGHTNESS_UP, KeyCode::F2</autogen>
      <autogen>__KeyToKey__ KeyCode::EXPOSE_ALL, KeyCode::F3</autogen>
      <autogen>__KeyToKey__ KeyCode::LAUNCHPAD, KeyCode::F4</autogen>
      <autogen>__KeyToKey__ ConsumerKeyCode::KEYBOARDLIGHT_LOW, KeyCode::F5</autogen>
      <autogen>__KeyToKey__ ConsumerKeyCode::KEYBOARDLIGHT_HIGH, KeyCode::F6</autogen>
      <autogen>__KeyToKey__ ConsumerKeyCode::MUSIC_PREV, KeyCode::F7</autogen>
      <autogen>__KeyToKey__ ConsumerKeyCode::MUSIC_PLAY, KeyCode::F8</autogen>
      <autogen>__KeyToKey__ ConsumerKeyCode::MUSIC_NEXT, KeyCode::F9</autogen>
      <autogen>__KeyToKey__ ConsumerKeyCode::VOLUME_MUTE, KeyCode::F10</autogen>
      <autogen>__KeyToKey__ ConsumerKeyCode::VOLUME_DOWN, KeyCode::F11</autogen>
      <autogen>__KeyToKey__ ConsumerKeyCode::VOLUME_UP, KeyCode::F12</autogen>
      <autogen>__KeyToKey__ KeyCode::F1, ConsumerKeyCode::BRIGHTNESS_DOWN</autogen>
      <autogen>__KeyToKey__ KeyCode::F2, ConsumerKeyCode::BRIGHTNESS_UP</autogen>
      <autogen>__KeyToKey__ KeyCode::F3, KeyCode::EXPOSE_ALL</autogen>
      <autogen>__KeyToKey__ KeyCode::F4, KeyCode::LAUNCHPAD</autogen>
      <autogen>__KeyToKey__ KeyCode::F5, ConsumerKeyCode::KEYBOARDLIGHT_LOW</autogen>
      <autogen>__KeyToKey__ KeyCode::F6, ConsumerKeyCode::KEYBOARDLIGHT_HIGH</autogen>
      <autogen>__KeyToKey__ KeyCode::F7, ConsumerKeyCode::MUSIC_PREV</autogen>
      <autogen>__KeyToKey__ KeyCode::F8, ConsumerKeyCode::MUSIC_PLAY</autogen>
      <autogen>__KeyToKey__ KeyCode::F9, ConsumerKeyCode::MUSIC_NEXT</autogen>
      <autogen>__KeyToKey__ KeyCode::F10, ConsumerKeyCode::VOLUME_MUTE</autogen>
      <autogen>__KeyToKey__ KeyCode::F11, ConsumerKeyCode::VOLUME_DOWN</autogen>
      <autogen>__KeyToKey__ KeyCode::F12, ConsumerKeyCode::VOLUME_UP</autogen>
    </item>
    <item>
      <name>HipChat</name>
      <item>
        <name>Command+Shift+W to Command+W (only in HipChat)</name>
        <identifier>custom.cmdShiftW2CmdWOnlyHipChat</identifier>
        <only>HIPCHAT</only>
        <autogen>
          __KeyToKey__
          KeyCode::W, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND | MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_SHIFT | ModifierFlag::NONE,
          KeyCode::W, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND
        </autogen>
      </item>
      <item>
        <name>Command+W to Command+Shift+W (only in HipChat)</name>
        <identifier>custom.cmdWOnlyHipChat2cmdShiftW</identifier>
        <only>HIPCHAT</only>
        <autogen>
          __KeyToKey__
          KeyCode::W, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND | ModifierFlag::NONE,
          KeyCode::W, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND | MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_SHIFT
        </autogen>
      </item>
    </item>
    <item>
      <name>Virtual Machine</name>
      <item>
        <name>Command+Tab to Alt+Tab (only in Virtual Machine)</name>
        <identifier>custom.cmdTab2AltTabOnlyVirtualMachine</identifier>
        <only>VIRTUALMACHINE</only>
        <autogen>
          __KeyToKey__
          KeyCode::TAB, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
          KeyCode::TAB, ModifierFlag::OPTION_R,
        </autogen>
      </item>
    </item>
    <appdef>
      <appname>SKETCH</appname>
      <equal>com.bohemiancoding.sketch3</equal>
    </appdef>
    <item>
      <name>Sketch</name>
      <item>
        <name>Reverse scrolling when pressing Command</name>
        <identifier>custom.reverseScrollWheelWhenPressingCommandOnlySketch</identifier>
        <only>SKETCH</only>
        <autogen>
          __ScrollWheelToKey__
          ScrollWheel::UP, ModifierFlag::FN | ModifierFlag::NONE,
          KeyCode::VK_CONSUMERKEY_BRIGHTNESS_UP,
        </autogen>
        <autogen>
          __ScrollWheelToKey__
          ScrollWheel::DOWN, ModifierFlag::FN | ModifierFlag::NONE,
          KeyCode::VK_CONSUMERKEY_BRIGHTNESS_DOWN,
        </autogen>
      </item>
    </item>
  </item>
  <item>
    <name>External Keyboard</name>
    <item>
      <name>Ctrl_L+Space to Command_L+Space (except Terminal and IntelliJ)</name>
      <identifier>ekeyboard.ctrlLSpace2commandLSpaceExpTerminalAndIntelliJ</identifier>
      <not>TERMINAL, IntelliJ</not>
      <autogen>
        __KeyToKey__
        KeyCode::SPACE, ModifierFlag::CONTROL_L | ModifierFlag::NONE,
        KeyCode::SPACE, ModifierFlag::COMMAND_L
      </autogen>
    </item>
    <item>
      <name>Command+Space to Escape (except Terminal and IntelliJ)</name>
      <identifier>ekeyboard.commandSpace2escape</identifier>
      <not>TERMINAL, IntelliJ</not>
      <autogen>
        __KeyToKey__
        KeyCode::SPACE, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND | ModifierFlag::NONE,
        KeyCode::ESCAPE
      </autogen>
    </item>
    <item>
      <name>Control_L to Command_L (except Terminal and IntelliJ)</name>
      <identifier>ekeyboard.controlL2commandL_excustomExpTerminalAndIntelliJ</identifier>
      <not>TERMINAL, IntelliJ</not>
      <autogen>__KeyToKey__ KeyCode::CONTROL_L, KeyCode::COMMAND_L</autogen>
    </item>
    <item>
      <name>Command_L to Control_L (except Terminal and IntelliJ)</name>
      <identifier>ekeyboard.commandL2controlL_excustomExpTerminalAndIntelliJ</identifier>
      <not>TERMINAL, IntelliJ</not>
      <autogen>__KeyToKey__ KeyCode::COMMAND_L, KeyCode::CONTROL_L</autogen>
    </item>
    <item>
      <name>Additional Options</name>
      <item>
        <name>Ctrl_L+Space to Command_L+Space</name>
        <identifier>ekeyboard.ctrlLSpace2commandLSpace</identifier>
        <autogen>
          __KeyToKey__
          KeyCode::SPACE, ModifierFlag::CONTROL_L | ModifierFlag::NONE,
          KeyCode::SPACE, ModifierFlag::COMMAND_L
        </autogen>
      </item>
      <item>
        <name>Control_L to Command_L (except Terminal)</name>
        <identifier>ekeyboard.controlL2commandL_excustomExpTerm</identifier>
        <not>TERMINAL</not>
        <autogen>__KeyToKey__ KeyCode::CONTROL_L, KeyCode::COMMAND_L</autogen>
      </item>
      <item>
        <name>Command_L to Control_L (except Terminal)</name>
        <identifier>ekeyboard.commandL2controlL_excustomExpTerm</identifier>
        <not>TERMINAL</not>
        <autogen>__KeyToKey__ KeyCode::COMMAND_L, KeyCode::CONTROL_L</autogen>
      </item>
      <item>
        <name>Control_L to Command_L (except IntelliJ)</name>
        <identifier>ekeyboard.controlL2commandL_excustomExpIntelliJ</identifier>
        <not>IntelliJ</not>
        <autogen>__KeyToKey__ KeyCode::CONTROL_L, KeyCode::COMMAND_L</autogen>
      </item>
      <item>
        <name>Command_L to Control_L (except IntelliJ)</name>
        <identifier>ekeyboard.commandL2controlL_excustomExpIntelliJ</identifier>
        <not>IntelliJ</not>
        <autogen>__KeyToKey__ KeyCode::COMMAND_L, KeyCode::CONTROL_L</autogen>
      </item>
    </item>
    <item>
      <name>Control_L+Option_L q,w,e,a,s,d,z,x,c to Command_L+Option_L q,w,e,a,s,d,z,x,c (only in Terminal and IntelliJ)</name>
      <identifier>ekeyboard.controlLOptionL2CommandLOptionLqweasdzxcOnlyTerminalAndIntelliJ</identifier>
      <only>TERMINAL, IntelliJ</only>
      <autogen>
        __KeyToKey__
        KeyCode::Q, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,
        KeyCode::Q, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::W, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,
        KeyCode::W, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::E, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,
        KeyCode::E, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::A, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,
        KeyCode::A, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::S, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,
        KeyCode::S, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::D, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,
        KeyCode::D, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::Z, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,
        KeyCode::Z, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::X, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,
        KeyCode::X, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::C, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE,
        KeyCode::C, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
      </autogen>
    </item>
  </item>
  <item>
    <name>Laptop</name>
    <item>
      <appendix>Control -> Command</appendix>
      <appendix>Alt -> Ctrl</appendix>
      <appendix>Command -> Alt</appendix>
      <item>
        <name>Control_L to Command_R (except TERMLIKE)</name>
        <identifier>laptop.ctrlL2commandR</identifier>
        <not>TERMLIKE</not>
        <autogen>
          __KeyToKey__
          KeyCode::CONTROL_L,
          KeyCode::COMMAND_R
        </autogen>
      </item>
      <item>
        <name>Command_L to Option_R</name>
        <identifier>laptop.commandL2OptionR</identifier>
        <autogen>
          __KeyToKey__
          KeyCode::COMMAND_L,
          KeyCode::OPTION_R
        </autogen>
      </item>
      <item>
        <name>Option_L to Control_R (except TERMLIKE)</name>
        <identifier>laptop.OptionL2Control_R</identifier>
        <not>TERMLIKE</not>
        <autogen>
          __KeyToKey__
          KeyCode::OPTION_L,
          KeyCode::CONTROL_R
        </autogen>
      </item>
      <item>
        <name>Option_L to Command_R (only TERMLIKE)</name>
        <identifier>laptop.OptionL2Command_R</identifier>
        <only>TERMLIKE</only>
        <autogen>
          __KeyToKey__
          KeyCode::OPTION_L,
          KeyCode::COMMAND_R
        </autogen>
      </item>
    </item>
    <item>
      <appendix>Option+Tab -> Command+Tab</appendix>
      <appendix>Option+Backquote -> Command+Backquote</appendix>
      <appendix>Option+Q -> Command+Q</appendix>
      <item>
        <name>Options_R+Tab to Command_R+Tab</name>
        <identifier>laptop.OptionRTab2Command_RTab</identifier>
        <autogen>
          __KeyToKey__
          KeyCode::TAB, ModifierFlag::OPTION_R,
          KeyCode::TAB, ModifierFlag::COMMAND_R
        </autogen>
      </item>
      <item>
        <name>Options_R+Backquote to Command_R+Backquote</name>
        <identifier>laptop.OptionRBackquote2Command_RBackquote</identifier>
        <autogen>
          __KeyToKey__
          KeyCode::BACKQUOTE, ModifierFlag::OPTION_R,
          KeyCode::BACKQUOTE, ModifierFlag::COMMAND_R
        </autogen>
      </item>
      <item>
        <name>Options_R+Q to Command_R+Q</name>
        <identifier>laptop.OptionRQ2Command_RQ</identifier>
        <autogen>
          __KeyToKey__
          KeyCode::Q, ModifierFlag::OPTION_R | ModifierFlag::NONE,
          KeyCode::Q, ModifierFlag::COMMAND_R
        </autogen>
      </item>
    </item>
    <item>
      <name>Command+Space to Ctrl+Space</name>
      <item>
        <name>Command_R+Space to Escape (except TERMLIKE)</name>
        <appendix>Disable Command+Space</appendix>
        <identifier>laptop.command_RSpace2Esc</identifier>
        <not>TERMLIKE</not>
        <autogen>
          __KeyToKey__
          KeyCode::SPACE, ModifierFlag::COMMAND_R | ModifierFlag::NONE,
          KeyCode::ESCAPE
        </autogen>
      </item>
      <item>
        <name>Control_R+Space to Command_R+Space (except TERMLIKE)</name>
        <identifier>laptop.controlRSpace2CommandRSpace</identifier>
        <not>TERMLIKE</not>
        <autogen>
          __KeyToKey__
          KeyCode::SPACE, ModifierFlag::CONTROL_R | ModifierFlag::NONE,
          KeyCode::SPACE, ModifierFlag::COMMAND_R,
        </autogen>
      </item>
    </item>
    <item>
      <name>Control_L+Option_R q,w,e,a,s,d,z,x,c to Command_L+Option_R q,w,e,a,s,d,z,x,c (only in TERMLIKE)</name>
      <appendix>Bettersnap: Snap windows to designated snapping areas</appendix>
      <identifier>laptop.controlLOptionR2CommandLOptionRqweasdzxc</identifier>
      <only>TERMLIKE</only>
      <autogen>
        __KeyToKey__
        KeyCode::Q, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_R | ModifierFlag::NONE,
        KeyCode::Q, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_R
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::W, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_R | ModifierFlag::NONE,
        KeyCode::W, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_R
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::E, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_R | ModifierFlag::NONE,
        KeyCode::E, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_R
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::A, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_R | ModifierFlag::NONE,
        KeyCode::A, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_R
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::S, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_R | ModifierFlag::NONE,
        KeyCode::S, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_R
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::D, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_R | ModifierFlag::NONE,
        KeyCode::D, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_R
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::Z, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_R | ModifierFlag::NONE,
        KeyCode::Z, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_R
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::X, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_R | ModifierFlag::NONE,
        KeyCode::X, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_R
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::C, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_R | ModifierFlag::NONE,
        KeyCode::C, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_R
      </autogen>
    </item>
  </item>
</root>
